<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TileLayer and Geo-Projections - TileLayer&#x27;s CSS filter</title>
<style type="text/css">
	html,
	body {
		margin: 0px;
		height: 100%;
		width: 100%
	}

	.container {
		width: 100%;
		height: 100%
	}
</style>
<link rel='stylesheet' href='./../assets/lib/maptalks/maptalks.css' />

<script type='text/javascript' src='./../assets/lib/maptalks/maptalks-gl.js'></script>
<script type='text/javascript' src='./../assets/lib/gcoord.js'></script>

<body>
	<div id="map" class="container"></div>

	<script>



		// const RES = 156543.03392800014 / 2;
		const RES = 0.703125;
		//原点

		const resolutions = [];
		let i = 0;
		while (i <= 18) {
			resolutions.push(RES / Math.pow(2, i));
			i++;
		}

		var spatialReference = {
			projection: 'EPSG:4326',
			resolutions: resolutions
			// 'fullExtent': {
			//     'top': -20037508.339999999850988,
			//     'left': -20037508.339999999850988,
			//     'bottom': 20037508.339999999850988,
			//     'right': 20037508.339999999850988
			// }
		}

		var baseLayer = new maptalks.TileLayer('base', {
			// tileSystem: [1, 1, -2.0037508342787E7, -2.0037508342787E7],
			tileSystem: [1, 1, -180, -90],
			debug: true,
			// resolutions: resolutions,
			urlTemplate: './../assets/data/072712/{z}/{x}/{y}.png',
			// debug: true,
			spatialReference: spatialReference,
			// zoomOffset: -1,

		})


		const baseLayer1 = new maptalks.TileLayer('base', {
			// debug: true,
			urlTemplate: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
			subdomains: ["a", "b", "c", "d"],
		});
		var map = new maptalks.Map('map', {
			"center": [103.45480708, 35.71577664], "zoom": 10.392483093203907, "pitch": 0, "bearing": 0,
			zoomControl: true,
			centerCross: true,
			// spatialReference: {
			// 	projection: 'EPSG:4326'
			// }

			// baseLayer: baseLayer1
		});
		baseLayer.addTo(map)
	
	</script>
</body>

</html>